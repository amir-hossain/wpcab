<h1>{{'RegistrationComponent.Heading' | translate}}</h1>
  <form [formGroup]="registrationForm" (ngSubmit)="signup()">
    <div class="container">
      <h3>{{'RegistrationComponent.SubHeading1' | translate}}</h3>
      <span class="warning">* {{'RegistrationComponent.Ins' | translate}}</span>
      <mat-card class="card" formGroupName='userInfo'>
        <label for='upload'>
          <input type='file'  id='upload' (change)="readUrl($event)" style='display:none;' #file > 
          <img class="pic" [src]="url">
          <a mat-raised-button class='upload-button' (click)='file.click()'>{{'RegistrationComponent.Upload' | translate}}</a>
        </label>
        <mat-error *ngIf='picError' class="pic-error">
          {{'RegistrationComponent.Error.Pic' | translate}}
        </mat-error>
        <div>
          <mat-form-field>
        <mat-label>*{{'RegistrationComponent.Name' | translate}}</mat-label>
        <input  matInput type="text" formControlName="fullName">
      </mat-form-field>
        <mat-error *ngIf="fullName.invalid && fullName.touched">
          {{'RegistrationComponent.Error.Name' | translate}}
        </mat-error>
      </div><!-- full name -->
      <mat-radio-group   formControlName="gender">
        <div class="label">*{{'RegistrationComponent.Gender' | translate}}</div>
        <mat-radio-button type="radio" color='primary'  name="gender" id="male" value="Male" >{{'RegistrationComponent.Male' | translate}}</mat-radio-button>
       <mat-radio-button type="radio" color='primary' name="gender" id="female" value="Female" > {{'RegistrationComponent.Female' | translate}}</mat-radio-button>
      </mat-radio-group><!-- gender -->
      <mat-error class='custom-error' *ngIf="gender.invalid && gender.touched">
        {{'RegistrationComponent.Error.Gender' | translate}}
      </mat-error>
      <div>
      <div class="label">*{{'RegistrationComponent.Dob' | translate}}</div>
      <div class="dob">
      <mat-form-field class='day'>
          <mat-label>{{'RegistrationComponent.Day' | translate}}</mat-label>
          <input matInput  type="text" formControlName='day'>
          <mat-error *ngIf="day.hasError('required') && day.touched">
            {{'RegistrationComponent.Error.Day' | translate}}
            </mat-error>
            <mat-error *ngIf="day.hasError('pattern')">
              {{'RegistrationComponent.Error.Number' | translate}}
              </mat-error>
      </mat-form-field>
      <mat-form-field class="middle">
          <mat-label>{{'RegistrationComponent.Month' | translate}}</mat-label>
          <mat-select formControlName='month'>
              <mat-option *ngFor='let option of months' [value]='option'>
                {{option}}
              </mat-option>
           </mat-select>
           <mat-error *ngIf="month.invalid && month.touched">
            {{'RegistrationComponent.Error.Month' | translate}}
           </mat-error>
          </mat-form-field>
          <mat-form-field>
              <mat-label>{{'RegistrationComponent.Year' | translate}}</mat-label>
              <input matInput type="text" formControlName='year'>
              <mat-error *ngIf="year.hasError('required') && year.touched">
                {{'RegistrationComponent.Error.Year' | translate}}
                </mat-error>
                <mat-error *ngIf="year.hasError('pattern')">
                  {{'RegistrationComponent.Error.Number' | translate}}
                  </mat-error>
          </mat-form-field>
        </div>
        
      </div><!-- dob -->
      <div>
          <mat-form-field>
          <mat-label>*{{'RegistrationComponent.FatherName' | translate}}</mat-label>
          <input matInput type="text" formControlName="fatherName" [matAutocomplete]='father'>
          <mat-autocomplete #father='matAutocomplete'>
            <mat-option  *ngFor='let option of filteredNames' [value]='option.name'>
              <span>{{option.name}}</span> 
              <span *ngIf='option.zone!=="Other"'>({{option.zone}})</span>
              <span *ngIf='option.zone==="Other"'>({{option.subDistrict}})</span>
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
          <mat-error *ngIf="fatherName.invalid && fatherName.touched">
            {{'RegistrationComponent.Error.FatherName' | translate}}
          </mat-error>
        </div><!-- father name -->
        <div>        
          <mat-form-field>
          <mat-label>*{{'RegistrationComponent.MotherName' | translate}}</mat-label>
          <input matInput type="text" formControlName="motherName" [matAutocomplete]='mother'>
          <mat-autocomplete #mother='matAutocomplete'>
              <mat-option  *ngFor='let option of filteredNames' [value]='option.name'>
                  <span>{{option.name}}</span> 
                  <span *ngIf='option.zone!=="Other"'>({{option.zone}})</span>
                  <span *ngIf='option.zone==="Other"'>({{option.subDistrict}})</span>
                </mat-option>
          </mat-autocomplete>
        </mat-form-field>
          <mat-error *ngIf="motherName.invalid && motherName.touched">
            {{'RegistrationComponent.Error.MotherName' | translate}}
          </mat-error>
        </div><!-- mother name -->
        <mat-radio-group   formControlName="status">
          <div class="label">*{{'RegistrationComponent.status' | translate}}</div>
          <mat-radio-button type="radio" color='primary'  name="status" id="married" value="Married" >{{'RegistrationComponent.Married' | translate}}</mat-radio-button>
         <mat-radio-button type="radio" color='primary' name="status" id="single" value="Single" > {{'RegistrationComponent.Single' | translate}}</mat-radio-button>
        </mat-radio-group><!-- maritial status -->
        <div *ngIf='marriedSelected'>
          <div class='spoouseWpcabMember'>
          <mat-checkbox   color='primary' formControlName='spoouseWpcabMember'>S{{'RegistrationComponent.WPCABMember' | translate}}</mat-checkbox>
          </div>
        
        <div *ngIf='spouseWpcabMember'>
          <mat-form-field>
          <mat-label>*{{'RegistrationComponent.Spouse' | translate}}</mat-label>  
          <input matInput type="textarea" formControlName="spouseName" [matAutocomplete]='spa'>
          <mat-autocomplete #spa='matAutocomplete'>
            <mat-option  *ngFor='let option of filteredNames' [value]='option.name'>
              <span>{{option.name}}</span> 
              <span *ngIf='option.zone!=="Other"'>({{option.zone}})</span>
              <span *ngIf='option.zone==="Other"'>({{option.subDistrict}})</span>
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
          <mat-error *ngIf="spouseName.invalid && spouseName.touched">
            {{'RegistrationComponent.Error.SpouseName' | translate}}
            </mat-error>
          </div>
        </div><!-- spouse checkbox -->
        <mat-error class='custom-error' *ngIf="status.invalid && status.touched">
          {{'RegistrationComponent.Error.Status' | translate}}
        </mat-error>
        <div>
            <mat-form-field class="field-top-margin">
            <mat-label>*{{'RegistrationComponent.InvitedBy' | translate}}</mat-label>
            <input matInput type="textarea" formControlName="invitedBy" [matAutocomplete]='caller'>
            <mat-autocomplete #caller='matAutocomplete'>
              <mat-option  *ngFor='let option of filteredNames' [value]='option.name'>
                <span>{{option.name}}</span> 
                <span *ngIf='option.zone!=="Other"'>({{option.zone}})</span>
                <span *ngIf='option.zone==="Other"'>({{option.subDistrict}})</span>
              </mat-option>
            </mat-autocomplete>
          </mat-form-field >
            <mat-error *ngIf="invitedBy.invalid && invitedBy.touched">
              {{'RegistrationComponent.Error.Inviter' | translate}}
              </mat-error>
            </div><!-- invited by -->
            <div>
                <mat-form-field>
                    <mat-label class="not-required">{{'RegistrationComponent.Blood' | translate}}</mat-label>
                 <mat-select formControlName='bloodGroup'>
                    <mat-option *ngFor='let option of bloodGroups' [value]='option'>
                      {{option}}
                    </mat-option>
                 </mat-select>
                </mat-form-field>
              </div> <!-- blood group -->
      <mat-radio-group formControlName="occupation">
        <div class="label">*{{'RegistrationComponent.Occupation' | translate}}</div>
        <mat-radio-button type="radio" color='primary' name="occupation" id="student" value="Student" >{{'RegistrationComponent.Student' | translate}}</mat-radio-button>
       <mat-radio-button type="radio" color='primary' name="occupation" id="job holder" value="Job holder" >{{'RegistrationComponent.Job' | translate}}</mat-radio-button>
        <mat-radio-button type="radio" color='primary' name="occupation" id="businessman" value="Businessman" >{{'RegistrationComponent.Businessman' | translate}}</mat-radio-button>
        <mat-radio-button type="radio" color='primary' name="occupation" id="others" value="Others" >{{'RegistrationComponent.Other' | translate}}</mat-radio-button>
      </mat-radio-group><!-- occupation -->
      <mat-error class='custom-error' *ngIf="occupation.invalid && occupation.touched">
        {{'RegistrationComponent.Error.Occupation' | translate}}
      </mat-error>
      <div *ngIf='otherOccupationSelected'>
        <mat-form-field class="field-top-margin">
      <mat-label>*What is your occupation?</mat-label>
      <input  matInput type="text" formControlName="otherOccupation">
    </mat-form-field>
      <mat-error *ngIf='otherOccupation.invalid && otherOccupation.touched'>
        {{'RegistrationComponent.Error.Occupation' | translate}}
      </mat-error>
    </div><!-- full name -->
      </mat-card>
    </div><!-- user info -->
    <div class="container">
        <h3>{{'RegistrationComponent.SubHeading2' | translate}}</h3>
        <mat-card class="card" formGroupName='address'>
            <div>
                <mat-form-field>
                    <mat-label>*{{'RegistrationComponent.PA' | translate}}</mat-label>
                <input matInput type="textarea" formControlName="permanentAddress">
              </mat-form-field>
                <mat-error *ngIf="permanentAddress.invalid && permanentAddress.touched">
                  {{'RegistrationComponent.Error.PA' | translate}}
                </mat-error>
              </div><!-- permanent address -->
    <div>
        <mat-form-field>
        <mat-label>*{{'RegistrationComponent.Zone' | translate}}</mat-label>
        <input matInput type="text" formControlName="zone" [matAutocomplete]='z'>
        <mat-autocomplete #z='matAutocomplete'>
          <mat-option *ngFor='let option of filteredZone' [value]='option'>
              {{option}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
        <mat-error *ngIf="zone.hasError('required') && zone.touched">
          {{'RegistrationComponent.Error.Zone' | translate}}
        </mat-error>
        <mat-error *ngIf="zone.hasError('zoneDoesNotExist') && zone.touched">
          {{'RegistrationComponent.Error.NotZone' | translate}}
        </mat-error>
      </div><!-- zone -->
      <div>
          <mat-form-field>
            <mat-label>*{{'RegistrationComponent.SubDis' | translate}}</mat-label>
          <input matInput type="text" formControlName="subDistrict" [matAutocomplete]='subDist'>
          <mat-autocomplete #subDist='matAutocomplete'>
            <mat-option *ngFor='let option of filteredSubDistricts' [value]='option'>
                {{option}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
          <mat-error *ngIf="subDistrict.hasError('required') && subDistrict.touched">
            {{'RegistrationComponent.Error.SubDist' | translate}}
          </mat-error>
          <mat-error *ngIf="subDistrict.hasError('subDistrictDoesNotExist') && subDistrict.touched">
            {{'RegistrationComponent.Error.NotSubDist' | translate}}
          </mat-error>
        </div><!-- subDistrict -->
          <div>
              <mat-form-field>
              <mat-label>*{{'RegistrationComponent.Dist' | translate}}</mat-label>
              <input matInput type="text" formControlName="district" [matAutocomplete]='dist'>
              <mat-autocomplete #dist='matAutocomplete'>
                <mat-option *ngFor='let option of  filteredDistricts' [value]='option'>
                  {{option}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
              <mat-error *ngIf="district.hasError('required') && district.touched">
                {{'RegistrationComponent.Error.Dist' | translate}}
              </mat-error>
              <mat-error *ngIf="district.hasError('districtDoesNotExist') && district.touched">
                {{'RegistrationComponent.Error.NotDist' | translate}}
              </mat-error>
            </div><!-- district -->
          <div>
              <mat-form-field>
              <input matInput type="text" placeholder="{{'RegistrationComponent.Country' | translate}}" formControlName="country">
            </mat-form-field>
          </div><!-- country -->
          <div>
              <mat-form-field>
                <input matInput type="text" placeholder="{{'RegistrationComponent.Nationality' | translate}}" formControlName="nationality">
              </mat-form-field>
            </div><!-- nationality -->
          <div>
              <mat-form-field>
                <input matInput type="text" placeholder="{{'RegistrationComponent.NID' | translate}}" formControlName="nId">
              </mat-form-field>
              <mat-error *ngIf="nId.hasError('pattern')">
                {{'RegistrationComponent.Error.Number' | translate}}
                </mat-error> 
            </div><!-- nid -->
        </mat-card>
    </div><!-- address -->
    <div class="container">
        <h3>{{'RegistrationComponent.SubHeading3' | translate}}</h3>
        <mat-card class="card" formGroupName='auth'>
            <div>
                <mat-form-field>
                <input matInput type="text"  placeholder="{{'RegistrationComponent.UN' | translate}}" formControlName="userName">
              </mat-form-field>
              <mat-error *ngIf="userName.hasError('exist')">
                {{'RegistrationComponent.Error.UN' | translate}}
              </mat-error>
              </div><!-- user name -->
      <div>
        <mat-form-field>
        <mat-label>*{{'RegistrationComponent.Password' | translate}} </mat-label>
        <input matInput type="password" formControlName="password">
      </mat-form-field>
        <mat-error *ngIf="password.invalid && password.touched">
          {{'RegistrationComponent.Error.Password' | translate}}
        </mat-error>
      </div><!-- password -->
      <div>
          <mat-form-field>
              <mat-label>*{{'RegistrationComponent.ConPass' | translate}} </mat-label>
          <input matInput type="password" formControlName="conPassword">
        </mat-form-field>
          <mat-error *ngIf="conPassword.hasError('required') && conPassword.touched">
            {{'RegistrationComponent.Error.ConPass' | translate}}
          </mat-error>
          <mat-error *ngIf="conPassword.hasError('missMatchPassword') && conPassword.touched">
            {{'RegistrationComponent.Error.Match' | translate}}
            </mat-error>
        </div><!--conform password -->
      <div>
        <mat-form-field>
            <mat-label>*{{'RegistrationComponent.Phone' | translate}} </mat-label>
        <input matInput type="text" formControlName="phone">
      </mat-form-field>
        <mat-error *ngIf="phone.hasError('required') && phone.touched">
          {{'RegistrationComponent.Error.Phone' | translate}}
        </mat-error>
        <mat-error *ngIf="phone.hasError('exist')">
          {{'RegistrationComponent.Error.PhomeExist' | translate}}
        </mat-error>
        <mat-error *ngIf="phone.hasError('pattern')">
          {{'RegistrationComponent.Error.Number' | translate}}
          </mat-error>
      </div><!-- phone -->
      <div>
          <mat-form-field>
            <input matInput type="email"  placeholder="{{'RegistrationComponent.Email' | translate}}" formControlName="email">
          </mat-form-field>
          <mat-error  *ngIf="email.value !='' && email.hasError('email')">
            {{'RegistrationComponent.Error.Email' | translate}}
          </mat-error >
          <mat-error *ngIf="email.hasError('exist')">
            {{'RegistrationComponent.Error.EmailExist' | translate}}
          </mat-error>
        </div> <!-- email -->
        <mat-form-field>
            <div class="spinner" *ngIf='uploding' >
                <mat-spinner *ngIf='uploding' [diameter]='200'></mat-spinner>
              </div>
            <mat-label>{{'RegistrationComponent.Role' | translate}}</mat-label>
        <mat-select formControlName='role'>
          <mat-option *ngFor='let role of roles' [value]='role'>
            {{role}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-error *ngIf="role.invalid && role.touched">
        {{'RegistrationComponent.Error.Role' | translate}}
        </mat-error>
    </mat-card>
    <div>
    
    <button type="submit"  mat-raised-button color="primary">{{'RegistrationComponent.Signup' | translate}}</button>
    <span class="footer-error" *ngIf='footerError'>{{'RegistrationComponent.Error.Foot' | translate}} </span>
    <div class="clearfix"></div>
  </div>
  <app-footer></app-footer>
    </div> <!-- online -->
    
    
  </form> <!-- Form -->

